# Detectors 目标检测与深度处理模块

## 模块概述

Detectors 模块是雷达站的核心检测组件，负责目标识别、深度信息处理和运动目标提取。

采用深度学习与传统视觉算法结合，实现高精度车辆与装甲板检测，同时提供高效的点云深度处理。

------

## 系统架构

### 双层检测架构

1. **车辆检测层**：快速识别车辆目标
2. **装甲板检测层**：在车辆区域内精确检测装甲板
3. **深度融合层**：结合激光雷达深度信息，提供三维定位

### 并行处理设计

- 支持大规模点云并行处理
- 自适应线程分配
- 内存优化的深度图生成

------

## 文件结构

```
Detectors/
├── include/                # 头文件目录（接口定义）
│   ├── ArmorDetector.h      # 装甲板检测器接口
│   ├── CarDetector.h        # 车辆检测器接口
│   ├── depthProcesser.h     # 深度图处理器接口
│   └── MovementDetector.h   # 运动目标检测器接口
└── src/                    # 源文件目录（功能实现）
    ├── ArmorDetector.cpp    # 装甲板检测器实现
    ├── CarDetector.cpp      # 车辆检测器实现
    ├── depthProcesser.cpp   # 深度图处理器实现
    └── MovementDetector.cpp # 运动目标检测器实现
```

------

## 车辆检测模块

- 基于 YOLOv5，TensorRT 加速推理
- 自动模型转换与优化
- 多目标并行检测
- 检测流程：模型初始化 → 图像预处理 → 推理 → NMS 去重 → 输出结果

------

## 装甲板检测模块

- 在车辆区域内进行二次检测
- 支持批量处理与多装甲板识别
- 坐标映射回全图，融合检测结果
- 可配置单层或双层推理模式

------

## 深度图处理模块

- 将激光雷达点云转换为相机深度图
- 支持标准模式（≤5万点）与并行模式（>5万点）
- 核心步骤：坐标变换 → 投影映射 → 深度融合 → 队列管理

------

## 运动目标检测模块

- 基于背景建模的方法
- 阶段流程：背景建模 → 前景/背景对比 → 运动掩码生成 → 后处理优化
- 支持运动目标区域分割与边界框生成

------

## 特点总结

- **高精度**：车辆 + 装甲板双层检测
- **高性能**：TensorRT 推理 & 并行点云处理
- **模块化**：独立组件，统一接口
- **可靠性**：自动优化处理策略，支持长时间运行

---